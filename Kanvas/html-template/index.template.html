<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Kanvas演示</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="Kanvas.js">
        </script>
        <style>
        	body, html {
        		margin: 0;
        		padding: 0;
        	}
        </style>
        <script type="text/javascript">
        	
        	var customButtonData = "<buttons><button id='1' label='测试按钮' tip='测试' callBack='test'><param>test string</param></button></buttons>";
            var kvs = new Kanvas({id: 'demo', width: '100%', height: '100%'});
			
			kvs.onReady(function(){
				kvs.setCustomButton(customButtonData);
			});
			
			function test(value) {
				alert(value);
			};
			
			function getData(){
				
				var data = kvs.getXMLData();
				//alert(kvs.getImgURLList());
				alert(data);
			};
			
			//测试数据导入, 成功后会看到一个正方形
			var testData = "eJzNlk2P3DQYgO+V+h9CDtya+Dt2mexqYYW0UntBRRyqqsrEnk20mSRKPO0O990FtVsJCXrpBYQQByQuPQAqon+GTMu/wMlkkgyMViMNpZ2TnbyO/Tz2+45H+6fTxHqgijLOUt+GDrAtlYaZjNNj357pyQ1u7+9dvzY6CdIHQWlaljWKVCBV0Y/C9ahSzxN1dOjbn0WxVrblLmOnmZwlqusFcdq0TDueHluxNHPaVl5kuSr03LdtS89z5dvmZfvJO//o11OksySxrVPfZszMbIYhQR1qWw9jqSPf9ji3rUjFx5E2IcCzrSLTgW7WauLDLMmKvnWUSnXadMswSFSzoFmR+HakdX7TdaFADmTcoQ4U/CYHHLjqJHfLeekGWgdhNFWprrv3Tfd+TVh3DrS+bZqOzPanSkeZ9GX2ME2yQL4fTPMPJvJI+pBgDhhUVAahxIpM5JiEICREgLHyFLItg13zwpVOoy2Mi9AIrc2hTeaW79fkTeJaV2fv47i1hzlu7BGMBvY46uVxuNmdh/gEhlcIrKc8SPIoMM8dYdYWxeFJqsrSbIj5ZCDjWdkM6bgKFeqGCm+iqt9uxUQRcDijFAoIiIc5XZ4PgByEBQMEIc7NqREdroA9rreGe4N0vHTshQK9GV6yEy/zsIMZ5IQCRjEmcLmjhDgEco8RgRGibIA72N368QAX0v+Fl+7Ea5gcSAE3iQMQRJ5Y8nrcQRQzCgAXAlCv44VgUAu8NWDI3+R5HuQp2zFPBWuqmxkMiTfIVIhFzwYx3ZyrwpMy+E/RtDpdbqU3BNPFTK3g6og1tMGDGu3DTM7bEsTaEtRvGSc9FWGboRgm48C7giqe3J7p+FacqtXKJllqPlhdPlk8vXj14vyvF1+Z+Phz1RyEFq2F2xu9d/ejw4M7B3df//h9df588fS3xXdfmIjFtxfVxXn1+Ozevb2R24S2TtY6nSC+syCKsLOqYaRXRAeK0NtV9OrZr9XZ8+rrn6svL+uIPNdb2hE722Eeb+vdu3l8qpc/LS5/ef3yWXX2Qx1xqKbZlnIg2NkO57A9O4SD3o94d/yspZc0chaPL6rfv9lW0car49Z6BFvWHvN3svHwoLcsZ5lYxsyffzy6wsjI7W7Vo/HxapGT5vevRZoL5aef3KpltVfLtq6P3O6Cf/3a3773yjs=";
			function importData(){
				kvs.setBase64Data(testData, true);	
			};
			
			//弹出属性面板
			kvs.onLinkBtnClicked(function(e){
				alert('属性面板弹出' + e.data);
			});
			
			//设置数据关联
			var linkData = 'awoefijawefjwief';
			function setLinkInfo(){
				kvs.setLinkData(linkData);
			};
			
			//获取缩略图
			function getShotCut() {
				alert(kvs.getShotCut(100, 75));
			}
			
        </script>
    </head>
    <body>
    	<input type="button" value="导出数据" onclick="getData()"/>
    	<input type="button" value="导入数据" onclick="importData()"/>
    	<input type="button" value="设置数据关联" onclick="getShotCut()"/>
        <div id="demo"></div>
    </body>
</html>