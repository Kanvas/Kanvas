<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Kanvas演示</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="Kanvas.js">
        </script>
        <style>
        	body, html {
        		margin: 0;
        		padding: 0;
        	}
        </style>
        <script type="text/javascript">
        	
        	var customButtonData = "<buttons><button id='1' label='测试按钮' tip='测试' callBack='test'><param>test string</param></button></buttons>";
            var kvs = new Kanvas({id: 'demo', width: '100%', height: '100%'});
			
			kvs.onReady(function(){
				kvs.setCustomButton(customButtonData);
			});
			
			function test(value) {
				alert(value);
			};
			
			function getData(){
				
				var data = kvs.getBase64Data();
				//alert(kvs.getImgURLList());
				alert(data);
			};
			
			//测试数据导入, 成功后会看到一个正方形
			var testData = "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";
			function importData(){
				kvs.setBase64Data(testData);	
			};
			
			//弹出属性面板
			kvs.onLinkBtnClicked(function(e){
				alert('属性面板弹出' + e.data);
			});
			
			//设置数据关联
			var linkData = 'awoefijawefjwief';
			function setLinkInfo(){
				kvs.setLinkData(linkData);
			};
			
			//获取缩略图
			function getShotCut() {
				alert(kvs.getShotCut(100, 75));
			}
			
        </script>
    </head>
    <body>
    	<input type="button" value="导出数据" onclick="getData()"/>
    	<input type="button" value="导入数据" onclick="importData()"/>
    	<input type="button" value="设置数据关联" onclick="getShotCut()"/>
        <div id="demo"></div>
    </body>
</html>