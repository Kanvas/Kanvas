<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Kanvas演示</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="Kanvas.js">
        </script>
        <style>
        	body, html {
        		margin: 0;
        		padding: 0;
        	}
        </style>
        <script type="text/javascript">
        	
        	var customButtonData = "<buttons><button id='1' label='测试按钮' tip='测试' callBack='test'><param>test string</param></button></buttons>";
            var kvs = new Kanvas({id: 'demo', width: '100%', height: '100%'});
			
			kvs.onReady(function(){
				kvs.setCustomButton(customButtonData);
			});
			
			function test(value) {
				alert(value);
			};
			
			function getData(){
				
				var data = kvs.getBase64Data();
				//alert(kvs.getImgURLList());
				alert(data);
			};
			
			//测试数据导入, 成功后会看到一个正方形
			var testData = "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";
			function importData(){
				kvs.setBase64Data(testData);	
			};
			
			//弹出属性面板
			kvs.onLinkBtnClicked(function(e){
				alert('属性面板弹出' + e.data);
			});
			
			//设置数据关联
			var linkData = 'awoefijawefjwief';
			function setLinkInfo(){
				kvs.setLinkData(linkData);
			};
			
			//获取缩略图
			function getShotCut() {
				alert(kvs.getShotCut(100, 75));
			}
			
        </script>
    </head>
    <body>
    	<input type="button" value="导出数据" onclick="getData()"/>
    	<input type="button" value="导入数据" onclick="importData()"/>
    	<input type="button" value="设置数据关联" onclick="getShotCut()"/>
        <div id="demo"></div>
    </body>
</html>