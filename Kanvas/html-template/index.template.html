<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Kanvas演示</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="Kanvas.js">
        </script>
        <style>
        	body, html {
        		margin: 0;
        		padding: 0;
        	}
        </style>
        <script type="text/javascript">
        	
        	var customButtonData = "<buttons><button id='1' label='测试按钮' tip='测试' callBack='test'><param>test string</param></button></buttons>";
            var kvs = new Kanvas({id: 'demo', width: '100%', height: '100%'});
			
			kvs.onReady(function(){
				kvs.setCustomButton(customButtonData);
			});
			
			function test(value) {
				alert(value);
			};
			
			function getData(){
				
				var data = kvs.getBase64Data();
				//alert(kvs.getImgURLList());
				alert(data);
			};
			
			//测试数据导入, 成功后会看到一个正方形
			var testData = "eJytVd1P01AUf+evqPdJH6S97bp2ZIWghGiUJzE+EB7Kerc1dO3SdcB8GjGOjUnQsIDgx5ygkBiGCSYGxvSPYf3giX/Be9d9KigJ3mTZPeee8zu/8+vJveGRhYRGzSEzpRq6BOAgAyikRwxF1WMSeDw5flsEI8MDA+FZWZ+TU8MDFBWOI1lBZjeJI0kpK6Oh+2MSeBJXLQToZmTCUNIaau1lVScbAmBYqaRhUVYmiSTQsloQk01fKi4nUQ/oPXKuKhIQREBFDM0wJRCNchyDK8+rihWXAMsKgIojNRa3sCGwgFrA/QThIA+oDCYJBUyTvj4Dkb2UQSDYw4D3GQQ4hsiDGbAh9j8x4C9lwPUxEJsMgiGuw4DvYWChBYtSoxNpS32o6rigZaZxPeKWAHWaXX4w8cj5sGQv5RrHu/baontYc2tlZ22lUX9rl4+86v75Sd7ZrJ5lt9zSnpP/fn5SOM0WqUtT7eWy96zeSXWrFfdlzn712of8S3b5k3eQa9TXMIzz8ZAkNTGa4WSBloqEep+EPQ6i4B1DyWBTfYqPINsaKNgRs0dHnuvqCNlA60vynVlir6ojbiUwyPh92NWCt/3crX1zlnecQtHOvbg5OuZVd7yDRbeQv0VR/wgeN8zEn+G+9r6GfuD19GAv0gPCrh5C0B8rsSMHA688Vn0tNuehUSu6tRXqghM7v+FV9vpPnL2K/W7DP3fWl+z9DWd11fv5tT/K3ay7W9XG0ed+t7e7becOnfUjp5LHA2iXqnZhBWuJR++3KpV840fx7E2u331WyuIc98v7xnHBPjhyDkrXUjp0gdJQ4Hsmr32L8WJn8sQeqdVEjMI/UgD6mJAhq4MWIvvOdyMGmWO+fSNx/s5vAQP1ddC1Cb6e1jTgl8WF06Y2HL4xdXdsdHJ0Km5ZySGahvh6g0FMdBCGxCGRERkazSZpE6WMtBlBdDQyixTVMky69RdVNZSQdTmGTFox5nXNkJWRqHJfkSDHQiTwnIBRWCjAQBTyQiQYmGGZGS4kB6anh8M04eDLQGOqzSeGbr8x4ZlY94Yki0gWpttv2C8Th6Ry";
			function importData(){
				kvs.setBase64Data(testData);	
			};
			
			//弹出属性面板
			kvs.onLinkBtnClicked(function(e){
				alert('属性面板弹出' + e.data);
			});
			
			//设置数据关联
			var linkData = 'awoefijawefjwief';
			function setLinkInfo(){
				kvs.setLinkData(linkData);
			};
			
			//获取缩略图
			function getShotCut() {
				alert(kvs.getShotCut(100, 75));
			}
			
        </script>
    </head>
    <body>
    	<input type="button" value="导出数据" onclick="getData()"/>
    	<input type="button" value="导入数据" onclick="importData()"/>
    	<input type="button" value="设置数据关联" onclick="getShotCut()"/>
        <div id="demo"></div>
    </body>
</html>